jQuery(function(t){if("undefined"!=typeof ezTOC){function e(){if(0!==t(".ez-toc-widget-container.ez-toc-affix").length){var e=30;void 0!==ezTOC.scroll_offset&&(e=parseInt(ezTOC.scroll_offset)),t(ezTOC.affixSelector).stick_in_parent({inner_scrolling:!1,offset_top:e})}if(t.fn.shrinkTOCWidth=function(){t(this).css({width:"auto",display:"table"}),/MSIE 7\./.test(navigator.userAgent)&&t(this).css("width","")},void 0!==ezTOC.visibility_hide_by_default){var i=t("a.ez-toc-toggle"),o=ezTOC.visibility_hide_by_default;t.each(i,function(e,i){var s=t(this),a=t(s).parents("#ez-toc-container,#ez-toc-widget-container").find("ul.ez-toc-list");Cookies?(1==Cookies.get("ezTOC_hidetoc-"+e)?t(s).data("visible",!1):t(s).data("visible",!0),Cookies.remove("ezTOC_hidetoc-"+e)):(t(s).data("visible",!0),Cookies.remove("ezTOC_hidetoc-"+e)),o&&t(s).data("visible",!1),t(s).data("visible")||a.hide(),t(s).on("click",function(i){i.preventDefault();let s=document.querySelector("#ez-toc-container");if(s)s.classList.toggle("toc_close");else{let c=document.querySelector(".ez-toc-widget-container");c.classList.toggle("toc_close")}t(this).data("visible")?(t(this).data("visible",!1),Cookies&&(o?Cookies.set("ezTOC_hidetoc-"+e,null,{path:"/"}):Cookies.set("ezTOC_hidetoc-"+e,"1",{expires:30,path:"/"})),a.hide("fast")):(t(this).data("visible",!0),Cookies&&(o?Cookies.set("ezTOC_hidetoc-"+e,"1",{expires:30,path:"/"}):Cookies.set("ezTOC_hidetoc-"+e,null,{path:"/"})),a.show("fast"))})})}var s,a,c,l=t("span.ez-toc-section").toArray(),n=(s=l,s.reduce(function(e,i){var o;return e[i.id]=t('.ez-toc-widget-container .ez-toc-list a[href="#'+t(o=i).attr("id")+'"]'),e},{})),r=t.map(n,function(t,e){return t}),h=(a=5,void 0!==ezTOC.smooth_scroll&&1===parseInt(ezTOC.smooth_scroll)&&(a=void 0!==ezTOC.scroll_offset?parseInt(ezTOC.scroll_offset):30),c=t("#wpadminbar"),c.length&&(a+=c.height()),a);function d(){var e,i,o,s,a,c=(e=h,i=l,o=t(window).scrollTop()+e+1,s=i[0],a=o-t(s).offset().top,i.forEach(function(e){var i=o-t(e).offset().top;i>0&&i<a&&(a=i,s=e)}),s);if(c){var d,f,v,u,g,p,z,$,b,C=n[c.id];(function t(e,i){i.forEach(function(t){e!==t&&t.parent().hasClass("active")&&t.parent().removeClass("active")})})(C,r),(v=(d=C).parent()).hasClass("active")||v.addClass("active"),b=(u=f=v,g=t(u),p=g.html(),g.parent().append('<li id="ez-toc-height-test" class="active">'+p+"</li>"),z=t("#ez-toc-height-test"),$=z.height(),z.remove(),$-g.children("ul").first().height()),t("#ez-toc-active-height").remove(),t('<style id="ez-toc-active-height">.ez-toc-widget-container ul.ez-toc-list li.active {height:'+b+"px;} </style>").appendTo("head")}}function f(){t(window).off("load resize scroll",d)}l.length>0&&t(".ez-toc-widget-container").length&&t(window).on("load resize scroll",d)}ezTOC.init=function(){e()},e()}});